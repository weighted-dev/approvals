weights:
  # Default weight for unlisted approvers
  default: 1
  precedence: max

  # Replace with your real org/team slugs
  teams:
    calcom/foundation: 1
    calcom/api: 1
    calcom/consumer: 1
    calcom/platform: 1

rules:
  # Baseline: any PR needs 1 approval (no restriction on who)
  - paths: ["**"]
    required_total: 1

  # /**/package.json - only @calcom/Foundation can approve
  - paths: ["**/package.json"]
    required_total: 1
    approvers:
      any:
        calcom/foundation: 1

  # /apps/api/**/* - only @calcom/API can approve
  - paths: ["apps/api/**"]
    required_total: 1
    approvers:
      any:
        calcom/api: 1

  # /apps/ui-playground/**/* - need approval from BOTH @calcom/Consumer AND @calcom/Foundation
  - paths: ["apps/ui-playground/**"]
    required_total: 2
    approvers:
      all:
        calcom/consumer: 1
        calcom/foundation: 1

  # /apps/web/**/layout.tsx - need approval from BOTH @calcom/Consumer AND @calcom/Foundation
  - paths: ["apps/web/**/layout.tsx"]
    required_total: 2
    approvers:
      all:
        calcom/consumer: 1
        calcom/foundation: 1

  # /packages/platform/**/* - need approval from BOTH @calcom/Platform AND @calcom/Foundation
  - paths: ["packages/platform/**"]
    required_total: 2
    approvers:
      all:
        calcom/platform: 1
        calcom/foundation: 1
